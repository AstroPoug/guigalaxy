<nav class="site-nav">
    <ul class="nav-menu">

        <!-- Use defined main menu if it exists -->
        {{ if .Site.Menus.main }}
            {{ range .Site.Menus.main }}
            <li class="nav-item">
                <a href="{{ .URL | absLangURL }}" class="nav-link"{{ if .Post }} {{ .Post | safeHTMLAttr }}{{ end }}>
                    {{ .Pre }}{{ .Name }}{{ .Post }}
                </a>
            </li>
            {{ end }}

            <!-- Add categories and tags to main menu -->
            {{ $categories := .Site.GetPage "/categories" }}
            {{ if $categories }}
            <li class="nav-item">
                <a href="{{ $categories.Permalink | absLangURL }}" class="nav-link">📂 Categories</a>
            </li>
            {{ end }}

            {{ $tags := .Site.GetPage "/tags" }}
            {{ if $tags }}
            <li class="nav-item">
                <a href="{{ $tags.Permalink | absLangURL }}" class="nav-link">🏷️ Tags</a>
            </li>
            {{ end }}

        {{ else }}
            <!-- Auto-generated menu items if no menu is defined -->
            <li class="nav-item">
                <a href="{{ "/" | absLangURL }}" class="nav-link">🏠 Home</a>
            </li>

            {{ $guis := .Site.GetPage "/guis" }}
            {{ if $guis }}
            <li class="nav-item">
                <a href="{{ $guis.Permalink | absLangURL }}" class="nav-link">?? GUIs</a>
            </li>
            {{ end }}
			
			{{ $features := .Site.GetPage "/features" }}
            {{ if $features }}
            <li class="nav-item">
                <a href="{{ $features.Permalink | absLangURL }}" class="nav-link">?? Features</a>
            </li>
            {{ end }}

            {{ $about := .Site.GetPage "/about" }}
            {{ if $about }}
            <li class="nav-item">
                <a href="{{ $about.Permalink }}" class="nav-link">👤 About</a>
            </li>
            {{ end }}

            {{ $contact := .Site.GetPage "/contact" }}
            {{ if $contact }}
            <li class="nav-item">
                <a href="{{ $contact.Permalink }}" class="nav-link">📧 Contact</a>
            </li>
            {{ end }}

            {{ $categories := .Site.GetPage "/categories" }}
            {{ if $categories }}
            <li class="nav-item">
                <a href="{{ $categories.Permalink | absLangURL }}" class="nav-link">📂 Categories</a>
            </li>
            {{ end }}

            {{ $tags := .Site.GetPage "/tags" }}
            {{ if $tags }}
            <li class="nav-item">
                <a href="{{ $tags.Permalink | absLangURL }}" class="nav-link">🏷️ Tags</a>
            </li>
            {{ end }}
        {{ end }}
    </ul>
</nav>
